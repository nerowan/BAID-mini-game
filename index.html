<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>北中杯足球经理</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- 引入Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- 引入自定义CSS样式 -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <!-- 导航栏 -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">北中杯足球经理</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" 
                aria-controls="navbarNav" aria-expanded="false" aria-label="切换导航">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="team-management-btn">球队管理</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="player-info-btn">球员信息</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="transfer-market-btn">转会市场</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="coach-market-btn">教练市场</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="draw-card-btn">抽取球员卡</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="skill-card-btn">技能卡</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="league-table-btn">联赛积分表</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="match-btn">比赛</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="training-btn">训练</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="youth-academy-btn">青训</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="inbox-btn">收件箱<span id="inbox-count" class="badge bg-danger ms-1"></span></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="achievements-btn">成就</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="activities-btn">活动</a>
                    </li>
                    <!-- 新增功能菜单 -->
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="fan-system-btn">球迷系统</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="financial-management-btn">财务管理</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="tournament-system-btn">赛事系统</a>
                    </li>
                </ul>
                <span class="navbar-text me-3" id="funds">资金：1000000金币</span>
                <span class="navbar-text me-3" id="coach-info">当前教练：暂无</span>
                <span class="navbar-text me-3" id="fan-support">球迷支持度：100</span> <!-- 新增球迷支持度显示 -->
                <button id="save-game-btn" class="btn btn-success btn-sm me-2">保存游戏</button>
                <button id="clear-data-btn" class="btn btn-danger btn-sm">清空数据</button>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <main>
            <!-- 球队管理界面 -->
            <section id="team-management" class="section">
                <h2>球队管理</h2>
                <div id="formation">
                    <h3>排兵布阵</h3>
                    <div class="row mb-3">
                        <div class="col-md-6 d-flex align-items-center">
                            <label for="formation-select" class="form-label me-2">选择阵型：</label>
                            <select id="formation-select" class="form-select me-3">
                                <option value="4-4-2">4-4-2</option>
                                <option value="4-3-3">4-3-3</option>
                                <option value="3-5-2">3-5-2</option>
                            </select>
                            <button id="auto-config-btn" class="btn btn-primary me-2">自动配置</button>
                            <button id="save-formation-btn" class="btn btn-success">保存阵容</button>
                        </div>
                        <div class="col-md-6">
                            <h4>选择教练</h4>
                            <select id="coach-select" class="form-select">
                                <!-- 已拥有的教练将在JavaScript中加载 -->
                            </select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <h4>替补球员</h4>
                            <div id="player-list-container" class="border rounded p-2 droppable">
                                <ul id="player-list" class="list-group">
                                    <!-- 球员列表将在JavaScript中加载 -->
                                </ul>
                            </div>
                        </div>
                        <div class="col-md-8">
                            <div id="pitch" class="border rounded bg-success droppable">
                                <!-- 球场和位置槽将在JavaScript中生成 -->
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 新增功能：球队设施升级 -->
                <div class="mt-4">
                    <h3>球队设施升级</h3>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card mb-3">
                                <div class="card-body">
                                    <h5 class="card-title">训练基地升级</h5>
                                    <p class="card-text">提升训练效果，增强球员属性增长速度。</p>
                                    <button id="upgrade-training-btn" class="btn btn-warning">升级训练基地（200000金币）</button>
                                    <p class="mt-2">当前等级：<span id="training-facility-level">1</span></p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card mb-3">
                                <div class="card-body">
                                    <h5 class="card-title">球场升级</h5>
                                    <p class="card-text">提升主场优势，增加比赛收入。</p>
                                    <button id="upgrade-stadium-btn" class="btn btn-warning">升级球场（300000金币）</button>
                                    <p class="mt-2">当前等级：<span id="stadium-level">1</span></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 球员信息界面 -->
            <section id="player-info" class="section d-none">
                <h2>球员信息</h2>
                <ul id="player-info-list" class="list-group">
                    <!-- 球员列表将在JavaScript中加载 -->
                </ul>
            </section>

            <!-- 比赛界面 -->
            <section id="match" class="section d-none">
                <h2>比赛</h2>
                <div id="match-weather" class="mb-3"></div>
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="difficulty-select" class="form-label">选择难度：</label>
                        <select id="difficulty-select" class="form-select">
                            <option value="easy">简单</option>
                            <option value="normal" selected>普通</option>
                            <option value="hard">困难</option>
                        </select>
                    </div>
                    <div class="col-md-6 d-flex align-items-end">
                        <button id="start-match-btn" class="btn btn-primary w-100">开始比赛</button>
                    </div>
                </div>
                <div class="row">
                    <div id="match-events" class="col-md-6">
                        <h3>比赛事件</h3>
                        <div class="border p-2" style="height: 400px; overflow-y: auto;">
                            <ul id="event-list" class="list-group">
                                <!-- 比赛事件列表 -->
                            </ul>
                        </div>
                    </div>
                    <div id="match-stats" class="col-md-6">
                        <h3>比赛数据</h3>
                        <div id="match-time" class="mb-2">比赛时间：0'</div>
                        <div id="score" class="mb-2">比分：0 - 0</div>
                        <div id="team-stats">
                            <p>射门次数：0</p>
                            <p>射正次数：0</p>
                            <p>角球数：0</p>
                            <p>犯规数：0</p>
                            <p>黄牌数：0</p>
                            <p>红牌数：0</p>
                        </div>
                        <!-- 新增比赛收入显示 -->
                        <div id="match-income" class="mt-3">
                            <p>比赛收入：0金币</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 转会市场界面 -->
            <section id="transfer-market" class="section d-none">
                <h2>转会市场</h2>
                <ul id="transfer-player-list" class="list-group">
                    <!-- 转会市场球员列表将在JavaScript中加载 -->
                </ul>
            </section>

            <!-- 教练市场界面 -->
            <section id="coach-market" class="section d-none">
                <h2>教练市场</h2>
                <ul id="coach-list" class="list-group">
                    <!-- 教练列表将在JavaScript中加载 -->
                </ul>
            </section>

            <!-- 抽卡界面 -->
            <section id="draw-card" class="section d-none">
                <h2>抽取球员卡</h2>
                <div class="mb-3">
                    <button id="bronze-pack-btn" class="btn btn-secondary me-2">铜卡包（20000金币）</button>
                    <button id="silver-pack-btn" class="btn btn-secondary me-2">银卡包（50000金币）</button>
                    <button id="gold-pack-btn" class="btn btn-secondary me-2">金卡包（100000金币）</button>
                    <button id="diamond-pack-btn" class="btn btn-secondary me-2">钻石卡包（200000金币）</button>
                    <button id="weekly-pack-btn" class="btn btn-warning">每周精选卡包（500000金币）</button>
                </div>
                <div id="draw-result"></div>
            </section>

            <!-- 技能卡界面 -->
            <section id="skill-card" class="section d-none">
                <h2>技能卡</h2>
                <div class="mb-3">
                    <button id="buy-skill-pack-btn" class="btn btn-primary me-2">购买技能卡包（50000金币）</button>
                    <button id="buy-star-skill-pack-btn" class="btn btn-info">购买星级技能卡包（100000金币）</button>
                </div>
                <h3>已拥有的技能卡</h3>
                <ul id="skill-card-list" class="list-group">
                    <!-- 技能卡列表将在JavaScript中加载 -->
                </ul>
            </section>

            <!-- 联赛积分表界面 -->
            <section id="league-table" class="section d-none">
                <h2>联赛积分表</h2>
                <table id="league-table-content" class="table table-striped">
                    <thead>
                        <tr>
                            <th>排名</th>
                            <th>球队</th>
                            <th>积分</th>
                            <th>胜</th>
                            <th>平</th>
                            <th>负</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </section>

            <!-- 训练界面 -->
            <section id="training" class="section d-none">
                <h2>训练</h2>
                <p>选择要训练的球员：</p>
                <ul id="training-player-list" class="list-group">
                    <!-- 训练球员列表将在JavaScript中加载 -->
                </ul>
                <!-- 显示训练基地等级影响 -->
                <div class="mt-3">
                    <p>训练效果提升：<span id="training-effect">5%</span></p>
                </div>
            </section>

            <!-- 青训界面 -->
            <section id="youth-academy" class="section d-none">
                <h2>青训</h2>
                <button id="recruit-youth-btn" class="btn btn-primary mb-3">招募新青训球员（100000金币）</button>
                <ul id="youth-player-list" class="list-group">
                    <!-- 青训球员列表将在JavaScript中加载 -->
                </ul>
            </section>

            <!-- 收件箱界面 -->
            <section id="inbox" class="section d-none">
                <h2>收件箱</h2>
                <ul id="inbox-list" class="list-group">
                    <!-- 收件箱消息列表将在JavaScript中加载 -->
                </ul>
            </section>

            <!-- 成就界面 -->
            <section id="achievements" class="section d-none">
                <h2>成就</h2>
                <ul id="achievement-list" class="list-group">
                    <!-- 成就列表将在JavaScript中加载 -->
                </ul>
            </section>

            <!-- 活动界面 -->
            <section id="activities" class="section d-none">
                <h2>活动</h2>
                <ul id="activity-list" class="list-group">
                    <!-- 活动列表将在JavaScript中加载 -->
                </ul>
            </section>

            <!-- 新增功能：球迷系统界面 -->
            <section id="fan-system" class="section d-none">
                <h2>球迷系统</h2>
                <div class="card mb-3">
                    <div class="card-body">
                        <h5 class="card-title">球迷支持度</h5>
                        <p class="card-text">当前球迷支持度：<span id="fan-support-level">100</span></p>
                        <button id="increase-fan-support-btn" class="btn btn-success me-2">增加支持度（5000金币）</button>
                        <button id="decrease-fan-support-btn" class="btn btn-danger">减少支持度</button>
                    </div>
                </div>
                <div class="mt-3">
                    <h4>球迷影响</h4>
                    <p>比赛收入增加：<span id="fan-influence">10%</span></p>
                    <p>球队声望增加：<span id="fan-reputation-influence">5%</span></p>
                </div>
            </section>

            <!-- 新增功能：财务管理界面 -->
            <section id="financial-management" class="section d-none">
                <h2>财务管理</h2>
                <div class="card mb-3">
                    <div class="card-body">
                        <h5 class="card-title">赞助合同</h5>
                        <p class="card-text">当前赞助合同：<span id="sponsorship-status">无</span></p>
                        <button id="sign-sponsorship-btn" class="btn btn-primary">签约赞助合同（300000金币）</button>
                        <button id="cancel-sponsorship-btn" class="btn btn-danger">取消赞助合同</button>
                    </div>
                </div>
                <div class="card mb-3">
                    <div class="card-body">
                        <h5 class="card-title">广告收入</h5>
                        <p class="card-text">每日广告收入：<span id="advertising-income">0</span>金币</p>
                        <button id="increase-advertising-btn" class="btn btn-primary">增加广告收入（50000金币）</button>
                        <button id="decrease-advertising-btn" class="btn btn-danger">减少广告收入</button>
                    </div>
                </div>
                <div class="mt-3">
                    <h4>财务影响</h4>
                    <p>赞助合同每天收入：<span id="sponsorship-influence">50%</span></p>
                    <p>广告收入提升：<span id="advertising-influence">10%</span></p>
                </div>
            </section>

            <!-- 新增功能：赛事系统界面 -->
            <section id="tournament-system" class="section d-none">
                <h2>赛事系统</h2>
                <div class="card mb-3">
                    <div class="card-body">
                        <h5 class="card-title">杯赛</h5>
                        <p class="card-text">当前杯赛阶段：<span id="cup-stage">未开始</span></p>
                        <button id="start-cup-btn" class="btn btn-primary">开始杯赛</button>
                        <button id="simulate-cup-btn" class="btn btn-secondary">模拟杯赛结果</button>
                    </div>
                </div>
                <div class="card mb-3">
                    <div class="card-body">
                        <h5 class="card-title">国际比赛</h5>
                        <p class="card-text">当前国际比赛状态：<span id="international-match-status">未开始</span></p>
                        <button id="start-international-match-btn" class="btn btn-primary">开始国际比赛</button>
                        <button id="simulate-international-match-btn" class="btn btn-secondary">模拟国际比赛结果</button>
                    </div>
                </div>
                <div class="mt-3">
                    <h4>赛事影响</h4>
                    <p>获胜奖金：<span id="tournament-bonus">100000金币</span></p>
                    <p>国际声望提升：<span id="international-reputation-influence">15%</span></p>
                </div>
            </section>

            <!-- 球员卡数据面板 -->
            <div id="player-card-modal" class="modal fade" tabindex="-1" aria-labelledby="playerCardModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 id="player-card-name" class="modal-title">球员信息</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="关闭"></button>
                        </div>
                        <div class="modal-body">
                            <p id="player-card-info"></p>
                            <p id="player-value"></p>
                            <p id="player-stamina"></p>
                            <h5>已装备技能卡：</h5>
                            <ul id="equipped-skills" class="list-group mb-3">
                                <!-- 已装备的技能卡将在JavaScript中加载 -->
                            </ul>
                            <button id="equip-skill-btn" class="btn btn-primary">装备技能卡</button>
                        </div>
                        <div class="modal-footer">
                            <button id="renew-contract-btn" class="btn btn-success">续约</button>
                            <button id="motivate-player-btn" class="btn btn-secondary">训话</button>
                            <button id="talk-to-player-btn" class="btn btn-info">与球员对话</button>
                            <button id="sell-player-btn" class="btn btn-danger">出售球员</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 与球员对话面板 -->
            <div id="player-dialogue-modal" class="modal fade" tabindex="-1" aria-labelledby="playerDialogueModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">与<span id="dialogue-player-name"></span>对话</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="关闭"></button>
                        </div>
                        <div class="modal-body" id="dialogue-options">
                            <!-- 对话选项将在JavaScript中生成 -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- 谈判面板 -->
            <div id="negotiation-modal" class="modal fade" tabindex="-1" aria-labelledby="negotiationModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">与<span id="negotiation-player-name"></span>进行谈判</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="关闭"></button>
                        </div>
                        <div class="modal-body" id="negotiation-content">
                            <!-- 谈判内容将在JavaScript中生成 -->
                        </div>
                        <div class="modal-footer">
                            <button id="offer-btn" class="btn btn-primary">出价</button>
                            <button id="cancel-negotiation-btn" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 技能卡装备面板 -->
            <div id="equip-skill-modal" class="modal fade" tabindex="-1" aria-labelledby="equipSkillModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">装备技能卡给<span id="equip-skill-player-name"></span></h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="关闭"></button>
                        </div>
                        <div class="modal-body" id="skill-options">
                            <!-- 技能卡选项将在JavaScript中生成 -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- 新增功能：财务管理面板 -->
            <div id="financial-management-modal" class="modal fade" tabindex="-1" aria-labelledby="financialManagementModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">财务管理</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="关闭"></button>
                        </div>
                        <div class="modal-body">
                            <p>管理您的球队财务，包括赞助合同和广告收入。</p>
                            <!-- 详细财务管理内容将在JavaScript中生成 -->
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">关闭</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 新增功能：球迷系统面板 -->
            <div id="fan-system-modal" class="modal fade" tabindex="-1" aria-labelledby="fanSystemModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">球迷系统</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="关闭"></button>
                        </div>
                        <div class="modal-body">
                            <p>提升球队的球迷支持度，增强比赛收入和球队声望。</p>
                            <!-- 详细球迷系统内容将在JavaScript中生成 -->
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">关闭</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 新增功能：赛事系统面板 -->
            <div id="tournament-system-modal" class="modal fade" tabindex="-1" aria-labelledby="tournamentSystemModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">赛事系统</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="关闭"></button>
                        </div>
                        <div class="modal-body">
                            <p>管理您的球队在各类赛事中的表现。</p>
                            <!-- 详细赛事系统内容将在JavaScript中生成 -->
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">关闭</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 作者信息 -->
            <footer class="mt-5">
                <p class="text-center">作者：Nero</p>
            </footer>

        </main>
    </div>

    <!-- 引入Bootstrap 5 JS 和 Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- 引入原有的自定义JavaScript脚本 -->
    <script src="script.js"></script>
    <!-- 引入新增功能的JavaScript脚本 -->
    <script src="extra.js"></script>
    <!-- 添加事件监听器的脚本 -->
    <script>
        // 添加事件监听器 for 新增功能菜单按钮
        document.addEventListener('DOMContentLoaded', () => {
            const fanSystemBtn = document.getElementById('fan-system-btn');
            const financialManagementBtn = document.getElementById('financial-management-btn');
            const tournamentSystemBtn = document.getElementById('tournament-system-btn');

            if (fanSystemBtn) {
                fanSystemBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    showSection('fan-system');
                });
            }

            if (financialManagementBtn) {
                financialManagementBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    showSection('financial-management');
                });
            }

            if (tournamentSystemBtn) {
                tournamentSystemBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    showSection('tournament-system');
                });
            }
        });
    </script>
</body>
</html>